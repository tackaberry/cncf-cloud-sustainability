export { default as theme } from "./components/Theme";
import Layout from "./components/Layout";
import Footnote from "./components/Footnote";
import Progress from "./components/Progress";
import SlideTitle from "./components/SlideTitle";
import Icon from "./components/Icon";
import Font from "./components/Font";
import {
 BLUE,
  RED,
  YELLOW,
  GREEN,
  PINK,
  DARK_BLUE,
  DARK_RED,
  DARK_YELLOW,
  DARK_GREEN,
  DARK_PINK,
  LIGHT_GREY,
  DARK_GREY,
  GREY,
  BLACK,
  WHITE
} from "./components/Colours.js";

import BG1 from "./images/bg1.jpg";
import BG2 from "./images/bg2.jpg";

import Brett from "./images/brett.jpg";

import SlideJourney from "./images/slide-journey.svg";
import SlideAreas from "./images/slide-areas.svg";
import SlideMarket from "./images/slide-market.svg";
import SlideComponents from "./images/slide-components.svg";
import CAT from "./images/climate-action-tech.png";
import CatJourney from "./images/cat-journey.png";
import Lighthouse from "./images/lighthouse.png";
import W3C from "./images/w3c.png";
import WebsiteCarbon from "./images/websitecarbon.png";
import ElectricityMaps from "./images/electricity-maps.png";

<Footer>

<Progress />

</Footer>

<Layout color={DARK_GREY}>

| Key                                | Description           |
| ---------------------------------- | --------------------- |
| Left Arrow, Page Up, Shift + Space | Go to previous slide  |
| Right Arrow, Page Down, Space      | Go to next slide      |
| Option + P                         | Toggle Presenter Mode |
| Option + O                         | Toggle Overview Mode  |
| Option + G                         | Toggle Grid Mode      |

[This presentation on github](https://github.com/tackaberry/cncf-cloud-sustainability)

</Layout>

---

<Layout color={DARK_GREY}>

# Cloud Sustainability: A Practical Guide for Building a More Sustainable Internet 

### For CNCF Ottawa

### November 2, 2023

## Brett Tackaberry, Principal Architect, Google Cloud Canada

</Layout>

---

<Layout color={DARK_BLUE}>

<Split>

<Image src={Brett} style={{ height: "600px", width: "600px" }} />


# About me 

help people do awesome things with technology

help companies grow, help teams do better

use technology make the world a better place

</Split>

</Layout>

---

<Layout image={SlideJourney} >

<SlideTitle>My Journey</SlideTitle>

</Layout>


<Notes>

This talk is secretly an introduction to a part of me that I want to continue to explore and grow.  The context to this is important because these guidelines aren‚Äôt the whole story. 

</Notes>

---

<Layout color={BLACK} image={BG2} >

# Context

</Layout>

---

<Layout color={GREEN} >

# The Climate Context

## <Icon name="looks_one" /> 1.5 ¬∫C

</Layout>

<Notes>

The Paris agreement gave us the threshold to restrict global warming to no more than 1.5 degrees Celsius to mitigate the worst impacts of climate change

</Notes>


---


<Layout color={BLUE} >

# The Climate Context

## <Icon name="looks_two" /> Emissions growth

</Layout>

<Notes>

The digital industry is responsible for between 2 and 5 % of global emissions	

</Notes>


---


<Layout color={RED} >

# The Climate Context

## <Icon name="looks_3" /> Carbon Footprint of ICT

</Layout>

<Notes>

If the internet were a country it would be one of the top 5 polluters.

</Notes>

---


<Layout color={DARK_YELLOW} >

# The Climate Context

## <Icon name="looks_4" /> Continued Growth 

</Layout>

<Notes>

Since 2010, the number of internet users has more than doubled. Global traffic has increased by 25 times. 

</Notes>

---


<Layout color={DARK_PINK} >

# The Climate Context

## <Icon name="looks_5" /> More Content

</Layout>

<Notes>

And what‚Äôs more, page size more than doubled in some cases. 

</Notes>

---

<Layout color={BLACK} image={BG1} >

# Our Story

</Layout>

<Notes>

My journey to understanding how I can be a positive force for our world has lead me here, working on how to make the internet and IT more sustainable.  But it isn‚Äôt my, or our, whole job - it‚Äôs a fundamental part - like security, or performance, or openess might be.  So, onwards. 

</Notes>

---

<Layout color={DARK_BLUE} >

# Architecture decisions we make
# have an <Font color={YELLOW}>impact</Font>
# on our environment

</Layout>

---

<Layout color={DARK_BLUE} >

# There are things that 
# <Font color={YELLOW}>software engineers</Font>
# can do to help

</Layout>

---

<Layout color={DARK_BLUE} >

# There are things that 
# <Font color={YELLOW}>designers</Font>
# can do to help

</Layout>

---

<Layout color={DARK_BLUE} >

# There are things that 
# <Font color={YELLOW}>product owners</Font>
# can do to help

</Layout>

---

<Layout color={DARK_BLUE} >

# There are things that 
# <Font color={YELLOW}>you</Font>
# can do to help

</Layout>

---

<Layout color={DARK_BLUE} >

# Green Software principles

- *Energy Efficiency*: Consume the least amount of electricity possible
- *Hardware Efficiency*: Use the least amount of embodied carbon possible
- *Carbon Awareness*: Do more when the electricity is clean and less when it‚Äôs dirty

</Layout>

---

<Layout color={DARK_GREEN}>

# Top 10 things you can do to make the internet more sustainable

</Layout>

---

<Layout>

# 1. Use the cloud

## Carbon intensity of cloud is 3x lower than on-prem

<Footnote>

(Siddik, Shabi, Marston ‚ÄúThe environmental footprint of data centers in the United States‚Äù (2021))[https://vtechworks.lib.vt.edu/bitstream/handle/10919/109747/Siddik_2021_Environ._Res._Lett._16_064017.pdf]

</Footnote>

</Layout>

---

<Layout>

# 2. Choose a region for low-carbon energy and proximity to your users

<Image src={ElectricityMaps} style={{ height: "600px", width: "1200px" }} />

<Footnote>

https://app.electricitymaps.com/map

</Footnote>

</Layout>

<Notes>

Low-carbon energy means: clean (no emissions like nuclear), green (natural sources like hydro), renewable (solar, wind)

</Notes>

---

<Layout>

# 3. Optimize for energy efficiency and carbon efficiency

- the more you use a computer, the more efficient it becomes
- an idle server has a carbon cost from both embedded carbon as well as inefficient utilization

- Rightsizing, Autoscaling, and Autoscaling to zero, Serverless
- Turn off what you don‚Äôt need, schedule workloads to run when power is cleanest

- Use the most efficient hardware possible - ARM vs x86, GPUs, TPUs, ASICs, FPGAs - also upgrade to latest version


</Layout>

---

<Layout>

# 4. Cluster Efficiency - eBPF and KEPLER FTW

- eBPF, Cilium - used with K8s - brings control and observability enhancing security, performance, and networking
- KEPLER - Kubernetes Energy Performance Label for Efficiency in Research - a tool to measure and optimize energy efficiency of Kubernetes clusters
- Cloud Native Computing Foundation sandbox project

</Layout>

<Notes>

KEPLER - using CPU performance counters and machine learning (ML) models to estimate power consumption of workloads running on Kubernetes clusters.

Kepler leverages eBPF programs to probe per-container energy consumption related to system counters and exports them as metrics. T

https://sustainable-computing.io/

</Notes>

---

<Layout>

# 5. Async and batch processing

- Batch processing is more efficient than real-time processing
- Event driven is more efficient than polling
- Applies to front end and back end

</Layout>

<Notes>

- bundling 10 processes will be more efficient than running 10 processes one at a time

- consider this on the the front end as well - bundling requests to the server, or using websockets instead of polling - think of web front end polling a web api efery 10s vs using websockets vs using push notifications

- I dont have to tell this crowd that event driven is more effective and just better, but it‚Äôs worth mentioning that it‚Äôs also more efficient.  Software polling is inefficient and wasteful.
- as services are able to scale and fail independently, better resilience leads to more efficient use of resources

- I might come back to this a few times but Failures result in a lot of wasted time and effort to fix and remediate.  The more resilient your system, the less time you spend fixing it, and the more time you spend building new features.  This is a win for everyone - and is more sustainable. 

</Notes>

---

<Layout>  

# 6. Security

- Build security into your applications and services
- Keep malicious traffic off your network
- Keep software and dependencies up to date
- Implement secure, ethical and sustainable data practices

</Layout>

<Notes>

We're all aware of the amount of malicious traffic on the internet.  This traffic is not only a security risk, but it's also a waste of energy.  It's a waste of energy to process the traffic, to store logs of it, and it's a waste of energy to send it.  It's also a waste of energy as the user processes it, or endpoint security does what it has to.  This is why we need to build security into our applications and services.  The more we can do to prevent malicious traffic from reaching our services, the more efficient our systems will be.  This also reduces impact on users - from integrity of their data to availability of the services they rely on.  This is a win for everyone - and is more sustainable.

Secondly, keeping software and dependencies up to date is a security best practice, but it's also a sustainability best practice.  The more up to date your software is, the more efficient it is.  This is because software is always getting more efficient.  

And again, secure breaches and any sort of remediation takes time and resources away from being productive and building new features.  People are a carbon sink. The more time we spend building new features, the more "carbon efficient" as a system we are. 



</Notes>

---

<Layout>

# 7. Data practices

</Layout>

<Notes>

Ethical data practices - respect the user, respect their data, respect their privacy, dont keep it longer than you need it, dont take collect more than you need, adhere to laws and regulations, be transparent about what you do with it, provide the user with control over the data you collect

</Notes>


---

<Layout>

# 8. Use Open Source Software

- Open source software is more secure, more reliable, and more sustainable

</Layout>

<Notes>

Open source software tends to remain in service much longer than proprietary software.  This is because it's more secure, more reliable, and more sustainable. And its more secure and more efficient because its open to scrutiny and review.

If software is in service longer, then hardware can stay in service longer.  Closed software tends to be more tightly coupled to hardware, and is more likely to be retired when hardware is retired. Apple, for example, is notorious for this. In common cases the embodied carbon outweighs the carbon cost of utilization of a device. 

It can also be refactored to be streamlined for precision tasks. Proprietrary software tends to be more bloated to accommodate a wider range of use cases.

Keep fighting for open source.

</Notes>

---

<Layout>


# 9. Expand FinOps to include GreenOps

</Layout>

<Notes>

</Notes>



---

<Layout>

# 10. Frameworks are your friends

</Layout>

<Notes>

</Notes>


---

<Layout>

# W3C Web Sustainability Guidelines

- Launched Draft 1.0 in September 2023
- Covering Design, Development, Infrastructure, and Business Strategy
- 94 Guidelines, 232 Success Criteria
- From the people that brought you WCAG
- Join me Nov 15 at Ottawa JS Meetup

</Layout>

<Notes>


</Notes>

---

<Layout>

# AWS WAF Sustainability Pillar

</Layout>

---

<Layout>

# 11. [BONUS] Measure and experiment

- Carbon sense
- Lighthouse
- Website Carbon
- Cloud Carbon Footprint

</Layout>


---

<Layout>  


<Split>

<Image src={Lighthouse} style={{ height: "350px", width: "600px" }} />


# Lighthouse

- Google Chrome Dev Tools
- Measure performance, accessibility, best practices, SEO, and PWA


</Split>

</Layout>

---

<Layout>  


<Split>

<Image src={WebsiteCarbon} style={{ height: "450px", width: "500px" }} />


# WebsiteCarbon.com



</Split>

</Layout>

---

<Layout light color={WHITE}>

<Split>

<Image src={CAT} style={{ height: "600px", width: "600px" }} />


# ClimateAction.tech 

A community of practice of tech workers that provides support and guidance for systemic change in our organisations and industries, to face the climate crisis.

</Split>

</Layout>

---

<Layout color="BLACK">

# Thank you üôè

- https://www.linkedin.com/in/tackaberry/

- https://github.com/tackaberry

- [This Presentation](https://cncf-cloud-sustainability.tackaberry.dev/)

</Layout>
