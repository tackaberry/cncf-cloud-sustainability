export { default as theme } from "./components/Theme";
import Layout from "./components/Layout";
import Footnote from "./components/Footnote";
import Progress from "./components/Progress";
import SlideTitle from "./components/SlideTitle";
import Icon from "./components/Icon";
import Font from "./components/Font";
import {
 BLUE,
  RED,
  YELLOW,
  GREEN,
  PINK,
  DARK_BLUE,
  DARK_RED,
  DARK_YELLOW,
  DARK_GREEN,
  DARK_PINK,
  LIGHT_GREY,
  DARK_GREY,
  GREY,
  BLACK,
  WHITE
} from "./components/Colours.js";

import BG1 from "./images/bg1.jpg";
import BG2 from "./images/bg2.jpg";

import Brett from "./images/brett.jpg";

import SlideJourney from "./images/slide-journey.svg";
import SlideAreas from "./images/slide-areas.svg";
import SlideMarket from "./images/slide-market.svg";
import SlideComponents from "./images/slide-components.svg";
import CAT from "./images/climate-action-tech.png";
import Lighthouse from "./images/lighthouse.png";
import W3C from "./images/w3c.png";
import WebsiteCarbon from "./images/websitecarbon.png";
import ElectricityMaps from "./images/electricity-maps.png";
import QrCode from "./images/qrcode.png";

<Footer>

<Progress />

</Footer>

<Layout color={DARK_GREY}>

| Key                                | Description           |
| ---------------------------------- | --------------------- |
| Left Arrow, Page Up, Shift + Space | Go to previous slide  |
| Right Arrow, Page Down, Space      | Go to next slide      |
| Option + P                         | Toggle Presenter Mode |
| Option + O                         | Toggle Overview Mode  |
| Option + G                         | Toggle Grid Mode      |


<div style={{display:"flex", marginTop:"50px", padding:"50px"}}>

[This presentation on github](https://github.com/tackaberry/cncf-cloud-sustainability)

<Image src={QrCode} style={{ marginLeft:"50px", height: "200px", width: "200px" }} />  

</div>

</Layout>

---

<Layout color={DARK_GREY}>

# Cloud Sustainability: A Practical Guide for Building a More Sustainable Internet 

### For CNCF Ottawa

### November 28, 2023

## Brett Tackaberry, Principal Architect, Google Cloud Canada

</Layout>

---

<Layout color={DARK_GREEN}>

# Cloud Sustainability

</Layout>

<Notes>

All jobs are climate jobs. 

I want to help you understand how your work as engineers can have a positive impact on the environment. 

Im going to start off with a little bit of my journey, the context, and then we’ll get into the top ten things you can do make your cloud more sustainable.


</Notes>

---

<Layout color={DARK_BLUE}>

<Split>

<Image src={Brett} style={{ height: "600px", width: "600px" }} />


# About me 

help people do awesome things with technology

help companies grow, help teams do better

use technology make the world a better place

</Split>

</Layout>


<Notes>


I'm Brett Tackaberry. 

I’m a principal architect at Google Cloud Canada.  I help people do awesome things with technology.   And right now, Im helping govt and the public sector do more in the cloud. 

Over my career I've spent lot of time building community helping to bring technology to the social sector.  I ran hackathons, ran tech4good, contributed to civic tech. This was and is important to me. 

</Notes>

---

<Layout image={SlideJourney} color={WHITE}>

<SlideTitle>My Journey</SlideTitle>

</Layout>


<Notes>

More recently I have been spending my time finding ways to put my effort in to helping the climate crisis. 

When I was working at a company in town called Rebel, I started to introduce sustainability and green concepts into our offering. If you're not familiar we were a web hosting company, amongst other things. 

We made a few decisions that would result in less carbon footprint. 

For example, when AWS launched in Montreal, we launched new locations and set the default to Canada. 

Montreal data centres are powered with green energy - so, this had an impact. 

This kicked off more green initiatives with the team.

For me, it inspired me to really evaluate how I can use my experience to work on climate.  


I dove right in, learned a tonne, I moved to work with a company building enivronment and civic focused apps, and yes, now at google. But along the way contributing more to how we can build to a more sustainable internet.  


I'm not an expert, but I'm going to share what I've learned so far.

</Notes>

---

<Layout color={BLACK} image={BG2} >

# Context

</Layout>

<Notes>

First, our shared context. Our changing climate. 

</Notes>


---

<Layout color={GREEN} >

# The Climate Context

## <Icon name="looks_one" /> 1.5 ºC

</Layout>

<Notes>

The Paris agreement gave us the threshold to restrict global warming to no more than 1.5 degrees Celsius to mitigate the worst impacts of climate change

So, we have to act now

</Notes>


---


<Layout color={RED} >

# The Climate Context

## <Icon name="looks_two" /> Carbon Footprint of ICT is Subtantial

</Layout>

<Notes>

The digital industry is responsible for between 2 and 5 % of global emissions. 

If the internet were a country it would be one of the top 5 polluters.

</Notes>

---


<Layout color={DARK_YELLOW} >

# The Climate Context

## <Icon name="looks_3" />Our Industry is Growing

</Layout>

<Notes>

And with massive growth in AI, IoT,  we'll see it grow to well over 10% within the next 10 years. 

Since 2010, the number of internet users has more than doubled. Global traffic has increased by 25 times. 

And what’s more, page size more than doubled in some cases. 

</Notes>

---

<Layout color={BLACK} image={BG1} >

# Our Challenge

Our challenge is to divorce the growth of the usage of IT from its impact on the environment.


</Layout>

---

<Layout color={DARK_BLUE} >

# Architecture decisions we make
# have an <Font color={YELLOW}>impact</Font>
# on our environment

</Layout>

---

<Layout color={DARK_BLUE} >

# There are things that 
# <Font color={YELLOW}>software engineers</Font>
# can do to help

</Layout>

---

<Layout color={DARK_BLUE} >

# There are things that 
# <Font color={YELLOW}>designers</Font>
# can do to help

</Layout>

---

<Layout color={DARK_BLUE} >

# There are things that 
# <Font color={YELLOW}>product owners</Font>
# can do to help

</Layout>

---

<Layout color={DARK_BLUE} >

# There are things that 
# <Font color={YELLOW}>you</Font>
# can do to help

</Layout>

---

<Layout color={DARK_BLUE} >

# Green Software principles

- *Energy Efficiency*: Consume the least amount of electricity possible
- *Hardware Efficiency*: Use the least amount of embodied carbon possible
- *Carbon Awareness*: Do more when the electricity is clean and less when it’s dirty

Read more at [Green Software Foundation](https://greensoftware.foundation/)

</Layout>

<Notes>

It starts with principles we have to adopt. Principles turn into patterns and patterns turn into practices. Practices without principles lose their meaning and value over time- practices with principles will get better with continuous improvement.

Copilot - suggested I say "cargo culting" - which is defined as "the ritualistic imitation of the superficial actions of someone or something else that serve no real purpose"  

</Notes>

---

<Layout color={DARK_GREEN}>

# Top 10 things you can do to make the internet more sustainable

</Layout>

---

<Layout color={DARK_RED}>

# 1. Measure and experiment

- Measure consumption of your software
- Carbon sense - GCP's carbon footprint tool
- Cloud Carbon Footprint - Open source tool to measure carbon footprint of your cloud infrastructure
- Expand FinOps to include GreenOps
- Lighthouse - Google Chrome Dev Tools
- Website Carbon - Measure the carbon footprint of your website



</Layout>

<Notes>

If you're just getting started, your first step will be an assessment. You can't improve what you don't measure.   There are a number of tools that can help you understand the carbon impact of your software.  

You might first start to look at CPU, memory, storage usage. Then you will want to take a step further to understand power consumption.

Your cloud providers will have the rudiments of usage reporting and you will have already integrated this into your FinOps dashboard. You can take this a step further and integrate carbon reporting into your FinOps dashboard.  This is called GreenOps.  

GCP has a simple tool called Carbon Sense that will give you a rough estimate of the carbon footprint of your GCP projects.  It's a great place to start. AWS carbon footprint tool is fairly basic too.

Cloud Carbon Footprint is an open source tool that will give you a more detailed view of your cloud infrastructure.  It's a great place to start. It takes a bit of work to get it set up, but it's worth it. It works from Cost and Usage Reports (CUR) that are downloaded and transformed or you can integrate directly.  It will give you a detailed view of your cloud infrastructure and the carbon footprint of each component.  It will also give you a view of the carbon footprint of your cloud infrastructure over time.  This is a great tool to help you understand the impact of your cloud infrastructure and to help you make decisions about how to optimize it.

</Notes>

---

<Layout color={DARK_RED}>  


<Split>

<Image src={Lighthouse} style={{ height: "350px", width: "600px" }} />


# Lighthouse

- Google Chrome Dev Tools
- Measure performance, accessibility, best practices, SEO, and PWA


</Split>

</Layout>

<Notes>

On the client side...

Lighthouse is a tool built into Google Chrome Dev Tools that will give you a view of the performance of your website.  It will give you a score for performance, accessibility, best practices, SEO.  This is a great tool to help you understand the impact of your website and to help you make decisions about how to optimize it.

</Notes>

---

<Layout color={DARK_RED}>  


<Split>

<Image src={WebsiteCarbon} style={{ height: "450px", width: "500px" }} />


# WebsiteCarbon.com

</Split>

</Layout>

<Notes>

WebsiteCarbon.com is a tool that will give you a view of the carbon footprint of your website.  

My tackaberry.dev site, as you saw on the lighthouse view in the last slide too, is set up well.  A SSG website, deployed to GCP Cloud Storage, with a CDN in front of it is a very efficient website.  

</Notes> 

---

<Layout color={DARK_RED}>

# Measuring Cluster Efficiency

- eBPF, Cilium - used with K8s - brings control and observability enhancing security, performance, and networking
- [KEPLER](https://sustainable-computing.io/) - Kubernetes Energy Performance Label for Efficiency in Research - a tool to measure and optimize energy efficiency of Kubernetes clusters

- KubeGreen - Reduce CO2 footprint of your clusters

- Cloud Native Computing Foundation sandbox project

</Layout>

<Notes>

Kepler leverages eBPF programs to probe per-container energy consumption related to system counters and exports them as metrics. 

KEPLER - using CPU performance counters and machine learning (ML) models to estimate power consumption of workloads running on Kubernetes clusters.

KubeGreen - An operator to reduce CO2 footprint of your clusters by suspending idle pods, scaling down when possible

</Notes>

---

<Layout color={DARK_BLUE}>

# 2. Use the cloud

## Carbon intensity (ton CO2-eq/workload) of cloud is 3x lower than on-prem

<Footnote>

[Siddik, Shabi, Marston “The environmental footprint of data centers in the United States” (2021)](https://vtechworks.lib.vt.edu/bitstream/handle/10919/109747/Siddik_2021_Environ._Res._Lett._16_064017.pdf)

</Footnote>

</Layout>

<Notes>

The carbon intensity of the cloud is much lower because the computing workloads is much higher density per energy use.  Water intensity is also more than 5x lower.  This is because hyperscaler datacenters can be more efficient at cooling. 

</Notes>

---

<Layout>

# 3. Spatial and temporal optimization for low-carbon 

<Image src={ElectricityMaps} style={{ height: "600px", width: "1200px" }} />

<Footnote>

https://app.electricitymaps.com/map

</Footnote>

</Layout>

<Notes>

Carbon awareness is important. Low-carbon energy means energy that is derived using little to no carbon.

Low-carbon energy includes: clean (no emissions like nuclear), green (natural sources like hydro), renewable (solar, wind)

This screenshot is from ElectricutyMaps.com.  It shows the carbon intensity of electricity in real time.  

Understanding carbon intensity of power means you can reduce carbon footprint by running workloads in regions with low carbon intensity.  This is called spatial optimization.  It also means you can reduce carbon footprint by running workloads when the carbon intensity is low.  This is called temporal optimization.

there's a popular article from a few years ago, outlining how Google shifts compute workloads to follow the sun and follow the wind. This is a great example of temporal optimization.  But it's not just Google.  We all have the ability to do this.  We can schedule workloads to run when the electricity is cleanest. 

https://blog.google/inside-google/infrastructure/data-centers-work-harder-sun-shines-wind-blows/

Consider, too, a multi-cloud scenario, consider carbon-aware workloads. If services were able to choose the right region, at the right time of the day, based on the carbon intensity of the electricity, we could reduce the carbon footprint of a cluster consdiderably 

</Notes>

---

<Layout color={DARK_YELLOW}>

# 4. Optimize for energy efficiency (and carbon efficiency)

- the more you use a computer, the more efficient it becomes
- an idle server has a carbon cost from both embedded carbon as well as inefficient utilization

- Rightsizing, Autoscaling, and Autoscaling to zero, Serverless
- Turn off what you don’t need, schedule workloads to run when power is cleanest

- Use the most efficient hardware possible - ARM vs x86, GPUs, TPUs, ASICs, FPGAs - also upgrade to latest version

</Layout>

<Notes>

The more you use a computer, the more efficient it becomes. Not only does it become more efficient, but it also becomes more carbon efficient.  This is because the embodied carbon of the hardware is amortized over the lifetime of the hardware.  An idle server has a carbon cost from both embedded carbon as well as inefficient utilization.  This is why it's important to rightsize your workloads, autoscale, and autoscale to zero - serverless is very efficient.  

Turn off what you don't need - dev tooling, staging sites can be turned off in teh evenening and on the weekends.  

Per the last slide - you can Also schedule workloads to run when power is cleanest.

Lastly, using the right chip architecture is better for energy efficiency. First, upgrade to the latest verison as your cloud provider makes it available. Choose the right chip for the job, and don't overprovision. ASICs, FPGAs are more efficient because they're application specific. GPUs, TPUs are more efficient for ML workloads.

</Notes>

---


<Layout color={DARK_PINK}>

# 5. Async and batch processing

- Batch processing is more efficient than real-time processing
- Event driven is more efficient than polling
- Applies to front end and back end
- Micro-services, automation and resilience

</Layout>

<Notes>

Bundling many processes will be more efficient than running many processes one at a time

Consider this on the the client side as well - bundling requests to the server, or using websockets instead of polling - think of web front end polling a web api efery 10s vs using websockets and having updates pushed to the client.

I dont have to tell this crowd that event driven is more effective and just better, but it’s worth mentioning that it’s also more efficient.  Software polling is inefficient and wasteful.

As services are able to scale and fail independently, better resilience leads to more efficient use of resources. There's no thrashing around.  This leads to less failures or outages. I might come back to this a few times but Failures result in a lot of wasted time and effort to fix and remediate.  The more resilient your system, the less time you spend fixing it, and the more time you spend building new features. 

</Notes>

---

<Layout color={DARK_RED}>  

# 6. Security

- Build security into your applications and services
- Keep malicious traffic off your network
- Keep software and dependencies up to date
- Implement secure, ethical and sustainable data practices

</Layout>

<Notes>

We're all aware of the amount of malicious traffic on the internet.  This traffic is not only a security risk, but it's also a waste of energy.  It's a waste of energy to process the traffic, to store logs of it, and it's a waste of energy to send it.  It's also a waste of energy as the user processes it, or endpoint security does what it has to.  The more we can do to prevent malicious traffic from reaching our services, the more efficient our systems will be.  By efficient I mean efficient in delivering value, scaling up to handle worthless traffic is wasteful. The part we already know is it has an impact on our users - from integrity of their data to availability of the services they rely on. 

Secondly, keeping software and dependencies up to date is a security best practice, but it's also a sustainability best practice.  The more up to date your software is, the more efficient it is.  Software is always getting more efficient.  

And again, secure breaches and any sort of remediation takes time and resources away from being productive and building new features.  People are a carbon sink. The more time we spend building new features, the more "carbon efficient" as a system we are. 


</Notes>

---

<Layout color={DARK_BLUE}>

# 7. Data practices

- Store data according to user needs
- Reduce data duplication and redundancy


</Layout>

<Notes>

Failing to deliver on data privacy and security is a huge risk to your business and to your users.  It's also a huge waste of energy.  

The more data you collect, the more energy it takes to store it, process it, and transmit it.  

It starts with respecting the user, their data, and their privacy - dont collect data you dont need, and dont keep it longer than you need it.  Adhere to laws and regulations. Then be transparent about what you do with it, provide the user with control over the data you collect.


</Notes>


---

<Layout color={DARK_GREEN}>

# 8. Use Open Source Software

- Open source software is more secure, more reliable, and more sustainable

</Layout>

<Notes>

Open source software tends to remain in service much longer than proprietary software.  This is because it's more secure, more reliable, and more sustainable. And its more secure and more efficient because its open to scrutiny and review.

If software is in service longer, then hardware can stay in service longer.  Closed software tends to be more tightly coupled to hardware, and is more likely to be retired when hardware is retired - or causing hardware to be retired earlier.  There are many common situations where the embodied carbon outweighs the carbon cost of utilization of a device. Theres lots of complaints how your iphone gets slower and slower with each update.

Open-source however can also be refactored to be streamlined for precision tasks. Proprietrary software tends to be more bloated to accommodate a wider range of use cases.  You see examples of lightweight images, or lightweight distributions or custom distributions - and these custom distributions are tailored perhaps to hardware or moreover for performance. 

Keep fighting for open source.

</Notes>

---

<Layout color={DARK_YELLOW}>


# 9. Optimize CI/CD

- Automation and standardization remove waste and error
- Avoid overprovisioning and underutilization
- Tight feedback loops identify areas of improvement
- Cache, cache, cache
- Update dependencies regularly
- Lightweight image, multi-stage builds
- What kinds of testing and when 

</Layout>

<Notes>

Automation and standardization remove waste and error.  You want to avoid overprovisioning and underutilization - even in CICS pipeline tooling.  Tight feedback loops identify areas of improvement. On front end CICD, for example, you can integrate lighthouse performance check on build or pre-commit, and if you give it a budget or limit, then you can fail the commit causing the developer to go back and fix the sustainability problem. 

Cache, cache, cache. Its easy to overlook inefficient caching in the build process, but caching save a lot of compute and data transfer. 

Multi-stage builds help you create lightweight images.  

</Notes>

---


<Layout color={DARK_PINK}>

# 10. Frameworks are your friends

</Layout>

<Notes>

Number 10, saving the best for last.  Use the sustainability guides and frameworks.  I have links for all these in the resources section on the repo. 

</Notes>


---

<Layout>

# W3C Web Sustainability Guidelines

- Launched Draft 1.0 in September 2023
- Covering Design, Development, Infrastructure, and Business Strategy
- 94 Guidelines, 232 Success Criteria
- From the people that brought you WCAG
- Join me Nov 15 at Ottawa JS Meetup

</Layout>

<Notes>

The W3C Web Sustainability Guidelines launched recently.  These are a holistic set of guidelines that cover full life cycle of buidling and operating a digital product form the Business Strategy, UX design, software to infrastructure.  They are from the people that brought you WCAG.  I'll be talking about these in more detail at the Ottawa JS meetup on Nov 15. 

</Notes>

---

<Layout color={DARK_BLUE}>

# Read more and Get Involved

- CNCF - Cloud Native Sustainability Week and [#tag-environmental-sustainability](https://cloud-native.slack.com/archives/C03F270PDU6)
- ClimateAction.tech - A community of practice of tech workers that provides support and guidance for systemic change in our organisations and industries, to face the climate crisis.
- Check out the resources on the [repo](https://github.com/tackaberry/cncf-cloud-sustainability)

</Layout>

---

<Layout color="BLACK">

<Split>

<Image src={QrCode} style={{ height: "400px", width: "400px" }} /> 

# Thank you 🙏

- https://www.linkedin.com/in/tackaberry/

- https://github.com/tackaberry

- [This Presentation](https://cncf-cloud-sustainability.tackaberry.dev/)

</Split>

</Layout>
